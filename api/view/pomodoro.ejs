<%- include('partials/header', { title: 'P√°gina Inicial' }) %>
  <%- include('partials/header2') %>
    <div class="alinhaMenu">
      <%- include('partials/menuItens') %>


        <main class="conteudo">
          <div class="pomodoro-container">
            <h1 class="pomoH">‚Ä¢ Pomodoro</h1>
            <div id="timer">30:00</div>

            <div class="cycles">
              <div class="cycle-dot"></div>
              <div class="cycle-dot"></div>
              <div class="cycle-dot"></div>
              <div class="cycle-dot"></div>
            </div>

            <div class="logoPomo">Nixy</div>

            <div class="buttonsPomo">
              <button id="startBtn" onclick="startTimer()">‚ñ∂</button>
              <button id="pauseBtn" onclick="pauseTimer()" style="display: none;">‚è∏</button>
              <button id="resetBtn" onclick="resetTimer()" style="display: none;">üîÑ</button>
            </div>
          </div>



          <script>
            let timerDisplay = document.getElementById("timer");
            let totalSeconds = 30 * 60;
            let secondsLeft = totalSeconds;
            let interval = null;

            const startBtn = document.getElementById("startBtn");
            const pauseBtn = document.getElementById("pauseBtn");
            const resetBtn = document.getElementById("resetBtn");

            function updateDisplay() {
              let minutes = Math.floor(secondsLeft / 60);
              let seconds = secondsLeft % 60;
              timerDisplay.textContent =
                String(minutes).padStart(2, "0") + ":" + String(seconds).padStart(2, "0");
            }

            function startTimer() {
              if (interval) return;

              // Alterna visibilidade
              startBtn.style.display = "none";
              pauseBtn.style.display = "inline-block";
              resetBtn.style.display = "inline-block";

              interval = setInterval(() => {
                if (secondsLeft > 0) {
                  secondsLeft--;
                  updateDisplay();
                } else {
                  clearInterval(interval);
                  interval = null;
                  // Opcional: restaurar bot√µes ap√≥s t√©rmino
                  startBtn.style.display = "inline-block";
                  pauseBtn.style.display = "none";
                  resetBtn.style.display = "none";
                  startBtn.textContent = "‚ñ∂"; // volta ao texto original
                }
              }, 1000);
            }

            function pauseTimer() {
              clearInterval(interval);
              interval = null;

              // Mostra bot√£o de retomar
              startBtn.style.display = "inline-block";
              startBtn.textContent = "‚ñ∂"; // ou "Retomar"
              pauseBtn.style.display = "none";
              // resetBtn continua vis√≠vel
            }

            function resetTimer() {
              pauseTimer();
              secondsLeft = totalSeconds;
              updateDisplay();

              // Volta ao estado inicial
              startBtn.textContent = "‚ñ∂";
              startBtn.style.display = "inline-block";
              pauseBtn.style.display = "none";
              resetBtn.style.display = "none";
            }

            updateDisplay();
          </script>
        </main>
    </div>

    </body>

    </html>